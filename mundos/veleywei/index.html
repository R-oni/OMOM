<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Exemplo Responsivo sem Rolagem</title>
  <style>
    /* Zera margens e força altura total */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden; /* evita rolagem */
      background-color: #000;
      color: #fff;
      font-family: sans-serif;
    }

    /* Container principal ocupando toda a tela */
    .page-container {
      display: flex;
      flex-direction: column;  /* empilha os elementos */
      justify-content: space-evenly; /* distribui espaço entre eles */
      align-items: center;     /* centraliza horizontalmente */
      width: 100%;
      height: 100%;
    }

    /* Seções */
    .top-section img {
      /* Exemplo usando vmax para imagem ficar
         maior em telas amplas, mas limitada em telas menores. */
      width: 15vmax;
      max-width: 80vw; /* limite horizontal em telas estreitas */
      height: auto;
    }

    .globe-section {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Ajuste dinâmico do canvas */
    #globeCanvas {
      width: 25vmax;  /* ou vmin, vmax, etc. */
      height: 25vmax;
      max-width: 80vw;
      max-height: 40vh;
    }

    /* Flipbook adaptável */
    #flipbook {
      width: 50vmax;
      height: 35vmax;
      max-width: 80vw; /* limita horizontalmente em telas menores */
      max-height: 60vh;
      position: relative;
      animation: neonGlow 2s infinite alternate ease-in-out;
    }

    @keyframes neonGlow {
      0% { box-shadow: 0 0 10px #00EEF7, 0 0 20px #00EEF7, 0 0 40px #00EEF7; }
      50% { box-shadow: 0 0 15px #00EEF7, 0 0 30px #00EEF7, 0 0 60px #00EEF7; }
      100% { box-shadow: 0 0 5px #00EEF7, 0 0 15px #00EEF7, 0 0 30px #00EEF7; }
    }

    .page img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Botão de som */
    .sound-button {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 50px; height: 30px;
      background: rgba(255, 255, 200, 0.2);
      cursor: pointer;
    }

    /* --- Estilo mínimo para o overlay que mostra corpoyeroben.png --- */
    #overlayContainer {
      display: none; /* escondido por padrão */
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.8);
      z-index: 9999; /* acima de tudo */
    }
    #overlayImage {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      max-width: 90vw;
      max-height: 90vh;
    }

    /* Botão simples com pulsar neon */
    .btn-overlay {
      position: absolute;
      top: 100px; right: 100px;
      border: none;
      background: none;
      cursor: pointer;
      /* Remove padding para usar só a imagem */
      padding: 0;
    }

    /* (Opcional) para caso queira colocar um texto no botão também:
       .btn-overlay { color: #000; background: #0ff; etc... } */

    /* Se preferir usar o neon do "livro" + pulsação de tamanho: */
    .btn-pulsante {
      animation: pulsate 1.8s infinite ease-in-out;
    }
    @keyframes pulsate {
      0%   { transform: scale(1);   box-shadow: 0 0 10px #00EEF7; }
      50%  { transform: scale(1.2); box-shadow: 0 0 30px #00EEF7; }
      100% { transform: scale(1);   box-shadow: 0 0 10px #00EEF7; }
    }

    /* Ajuste a imagem do botão (transparente) */
    .btn-pulsante img {
      width: 60px;  /* tamanho da imagem do botão */
      height: auto;
      display: block;
    }
  </style>
</head>
<body>
  <div class="page-container">

    <!-- Imagem de topo -->
    <div class="top-section">
      <img src="tituloveleywei.png" alt="Título Velei'wey">
    </div>

    <!-- Globo 3D -->
    <div class="globe-section">
      <canvas id="globeCanvas"></canvas>
    </div>

    <!-- Flipbook -->
    <div id="flipbook">

      <div class="page"><img src="pagina1.png" alt="Página 1"></div>
      <div class="page"><img src="paginanula.png" alt="Página 2"></div>
      <div class="page"><img src="pagina2.png" alt="Página 3"></div>
      <div class="page"><img src="paginanula.png" alt="Página 4"></div>

      <div class="page">
        <img src="pagina4.png" alt="Página 5">
        <div class="sound-button" id="sound-trigger"></div>
      </div>

      <div class="page"><img src="paginanula.png" alt="Página 6"></div>
      <div class="page"><img src="pagina5.png" alt="Página 7"></div>
      <div class="page"><img src="pagina6.png" alt="Página 8"></div>
      <div class="page"><img src="pagina7.png" alt="Página 9"></div>
      <div class="page"><img src="pagina8.jpg" alt="Página 10"></div>

      <!-- Aqui está a "página 11" com o botão -->
      <div class="page">
        <img src="pagina9.png" alt="Página 11">
        <!-- Botão com imagem transparente e efeito neon pulsante -->
        <button class="btn-overlay btn-pulsante" id="btnOverlay">
          <img src="mapaveleywei.png" alt="Botão Pulsante">
        </button>
      </div>

      <div class="page"><img src="pagina11.png" alt="Página 12"></div>
      <div class="page"><img src="pagina12.png" alt="Página 13"></div>

    </div> <!-- /flipbook -->

  </div> <!-- /page-container -->

  <!-- Overlay para mostrar corpoyeroben.png -->
  <div id="overlayContainer">
    <img id="overlayImage" src="" alt="Imagem Overlay">
  </div>

  <!-- Bibliotecas -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>
  <script src="turn.min.js"></script>

  <!-- Pré-carrega o som de virar página -->
  <script>
    let flipAudio;
    const flipAudioStart = 1;
    const flipAudioEnd   = 1.3;

    document.addEventListener('DOMContentLoaded', () => {
      // Seta o áudio de virar página
      flipAudio = new Audio('sompagina.aac');
      flipAudio.preload = 'auto';
      flipAudio.load();
      flipAudio.volume = 0.2;

      // Desbloqueia o áudio no primeiro clique
      document.addEventListener('click', function unlockAudio() {
        flipAudio.play().then(() => {
          flipAudio.pause();
          flipAudio.currentTime = flipAudioStart;
        });
        document.removeEventListener('click', unlockAudio);
      });
    });
  </script>

  <!-- Inicialização do Flipbook e comportamento do botão/overlay -->
  <script>
    $(document).ready(function(){
      // Inicializa o livro com Turn.js
      $("#flipbook").turn({
        width: 600,
        height: 450,
        autoCenter: true,
        when: {
          start: function(){
            if (flipAudio) {
              flipAudio.currentTime = flipAudioStart;
              flipAudio.play();
              flipAudio.addEventListener('timeupdate', function onTimeUpdate() {
                if (flipAudio.currentTime >= flipAudioEnd) {
                  flipAudio.pause();
                  flipAudio.currentTime = flipAudioStart;
                  flipAudio.removeEventListener('timeupdate', onTimeUpdate);
                }
              });
            }
          }
        }
      });

      // Som específico na página 5
      $("#sound-trigger").on("click", function(){
        const page5AudioStart = 0;
        const page5AudioEnd   = 1.5;
        const audio = new Audio('som-pagina5.m4a');
        audio.currentTime = page5AudioStart;
        audio.play();
        audio.addEventListener('timeupdate', function onPage5TimeUpdate() {
          if (audio.currentTime >= page5AudioEnd) {
            audio.pause();
            audio.currentTime = 0;
            audio.removeEventListener('timeupdate', onPage5TimeUpdate);
          }
        });
      });

      // Botão do overlay (na página 11 do flip, mas "pagina9.png")
      const btnOverlay = document.getElementById("btnOverlay");
      const overlayContainer = document.getElementById("overlayContainer");
      const overlayImage = document.getElementById("overlayImage");

      if (btnOverlay && overlayContainer && overlayImage) {
        btnOverlay.addEventListener("click", () => {
          // Mostra corpoyeroben.png em tela cheia
          overlayImage.src = "corpoyeroben.png";
          overlayContainer.style.display = "block";
        });

        // Fecha ao clicar fora da imagem
        overlayContainer.addEventListener("click", (evt) => {
          if (evt.target === overlayContainer) {
            overlayContainer.style.display = "none";
          }
        });
      }
    });
  </script>

  <!-- Script do globo -->
  <script src="./globo.js"></script>
</body>
</html>
