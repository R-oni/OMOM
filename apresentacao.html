<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teste Globo Himpis</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    body { margin:0; background:#000; text-align:center; color:#00ffe7; font-family:'Press Start 2P'; }
    #loading { position:fixed; inset:0; display:flex;align-items:center;justify-content:center; }
    canvas { width:100%; height:400px; display:block; margin:1rem auto; }
  </style>
</head>
<body>
  <div id="loading">carregando globo himpis…</div>

  <!-- Canvas com o mesmo id que o globo.js espera -->
  <canvas id="globeCanvas"></canvas>

  <!-- Three.js + OrbitControls -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/js/controls/OrbitControls.js"></script>

  <!-- Script do globo dos himpis -->
  <script src="mundos/himpis/globo.js"></script>

  <script>
    // Quando o globo terminar de carregar (ele dispara este evento)
    document.addEventListener('globoCarregado', () => {
      document.getElementById('loading').style.display = 'none';
    });
    // Se não disparar em 8s, escondemos mesmo assim
    setTimeout(() => document.getElementById('loading').style.display='none', 8000);

    // Chama a inicialização
    if (typeof initGlobe === 'function') {
      initGlobe();
    } else {
      console.error('initGlobe() NÃO está definido — verifique mundos/himpis/globo.js');
      document.getElementById('loading').textContent = 'erro: initGlobe() não encontrado';
    }
  </script>
</body>
</html>
