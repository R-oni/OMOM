<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>OMOM SPA</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{width:100%;height:100%;overflow:hidden;background:#000;color:#fff;font-family:'Courier New',monospace}
    #omom-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000;z-index:10}
    #omom-title{font-family:'Press Start 2P',cursive;font-size:48px;color:#00FFE7;opacity:0;animation:fadeIn 2s forwards}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}

    #menu{position:fixed;inset:0;background:#000;display:none;align-items:center;justify-content:center;z-index:9}
    .symbol{cursor:pointer;text-align:center}
    .symbol img{width:120px}

    #flipbook{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:8}
    .swiper-container{width:90vw;height:80vh}
    .swiper-slide{display:flex;align-items:center;justify-content:center;background:#111}

    #btnVoltar{position:fixed;top:20px;left:20px;padding:10px;border:2px solid #00FFE7;color:#00FFE7;background:rgba(0,0,0,0.7);cursor:pointer;display:none;z-index:11}
  </style>
</head>
<body>
  <div id="omom-screen"><div id="omom-title">OMOM</div></div>
  <div id="menu">
    <div class="symbol" id="batedores">
      <img src="mundos/ttok/ttokmenu.png" alt="Batedores"><br>
      Batedores
    </div>
  </div>
  <div id="flipbook">
    <button id="btnVoltar">VOLTAR</button>
    <div class="swiper-container" id="swiper">
      <div class="swiper-wrapper"></div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>
  <script>
    // splash e menu
    window.addEventListener('load',()=>{
      setTimeout(()=>{
        $('#omom-screen').fadeOut(300);
        $('#menu').fadeIn(300);
      },2000);
    });

    // ao escolher Batedores
    $('#batedores').click(()=>{
      $('#menu').hide();
      $('#flipbook').show();
      $('#btnVoltar').show();
      // carrega script e init
      $.getScript('batedores.js').done(()=>{
        initFlipbook('#swiper .swiper-wrapper');
        window.mySwiper = new Swiper('#swiper', {
          direction:'horizontal', loop:false, slidesPerView:1,
          on: {
            slideChange: function(){
              if(this.activeIndex===3) initGlobe('#globeCanvas');
            }
          }
        });
      });
    });

    // voltar ao menu
    $('#btnVoltar').click(()=>{
      $('#flipbook').hide();
      $('#btnVoltar').hide();
      $('#swiper .swiper-wrapper').empty();
      $('#menu').show();
    });
  </script>
</body>
</html>
