<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OMOM SPA</title>

  <!-- fonte pixel‑art -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />

  <style>
    /* ===== RESET ===== */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { width:100%; height:100%; overflow:hidden; background:none; color:#fff; font-family:'Courier New',monospace; }

    /* ===== PALCO MADEIRA (grid 50/50) ===== */
    #app {
      display: grid;
      grid-template-rows: 50% 50%;
      width:100%; height:100%;
      background: url(fundo.png) center/cover no-repeat fixed;
      position: relative;
    }

    /* ===== TABLET + PAINEL ===== */
    :root { --tablet-w:95vw; --tablet-max:640px; }

    .tablet {
      position: relative;
      width: min(var(--tablet-w), var(--tablet-max));
      aspect-ratio: 1/1;
      margin: auto;
      filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5));
    }

    /* Globo */
    #globe-area {
      position: absolute; width:90%; height:90%;
      top:50%; left:50%; transform:translate(-50%,-50%);
      overflow:hidden; z-index:0;
    }
    #globeCanvas { width:100%; height:100%; background:#000; object-fit:contain; }
    #intro-video {
      position:absolute; top:50%; left:50%;
      transform:translate(-50%,-50%); width:40%;
      pointer-events:none; display:none; z-index:2;
    }

    /* painel.png sempre acima de tudo */
    #ui-layer { position:absolute; inset:0; z-index:10; pointer-events:none; }
    #painel    {
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover; pointer-events:none;
      z-index:10;
    }

    /* botão MENU (acima do overlay) */
    #btnMenu {
      position:absolute; top:18px; left:12px;
      background:rgba(0,0,0,0.7);
      border:2px solid #00FFE7; color:#00FFE7;
      font-family:'Press Start 2P',cursive; font-size:8px; padding:10px;
      cursor:pointer; pointer-events:auto;
      z-index:11;
    }
    #btnMenu:hover { background:rgba(0,0,0,0.9); }

    /* ===== MENU DE SÍMBOLOS (dentro do .tablet) ===== */
    #menu-overlay {
      position:absolute;
      bottom:1rem;                 /* fica colado ao fim do tablet */
      left:50%; transform:translateX(-50%);
      width: min(var(--tablet-w),var(--tablet-max));
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(6px);
      padding:20px 0;
      display:none;
      z-index:8;                   /* abaixo do painel, acima do globo */
    }
    #menu-overlay.visible { display:block; }

    .symbols-wrapper { max-height:40vh; overflow-y:auto; padding-inline:20px; }
    .symbols-container {
      display:flex; flex-wrap:wrap;
      justify-content:center; gap:25px;
    }
    @keyframes floatWave {
      0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}
    }
    .symbol { cursor:pointer; animation:floatWave 4s ease-in-out infinite; }
    .symbol img {
      width:18vw; max-width:120px;
      transition:transform .3s;
    }
    .symbol img:hover { transform:scale(1.1); }
    .symbol.brither img { filter:brightness(180%); }
    .symbol.locked img  { filter:brightness(50%); }

    /* ===== FLIPBOOK ===== */
    #flipbook-area {
      position:relative; margin-left:5%; padding-top:2vh;
      overflow:hidden; width:100%; height:100%;
      z-index:3;
      transform:translateX(100%); transition:transform 1.5s ease-out;
    }
    #flipbook-area.show { transform:translateX(0); }
    #flipbook-area.slide-out-left { transform:translateX(-100%); }
    #flipbookContainer { width:100%; height:calc(100% - 7vh); }

    /* seta do flipbook */
    #setaBtn {
      position:absolute; top:5px!important; right:5px!important;
      width:35px!important; height:auto!important;
      cursor:pointer; opacity:0;
      animation: fadeInArrow .6s forwards .4s, slideArrow 1s ease-in-out infinite .6s;
      z-index:5;
    }
    @keyframes fadeInArrow { from{opacity:0} to{opacity:1} }
    @keyframes slideArrow  { 0%{transform:translate(0)} 50%{transform:translate(-8px,8px)} 100%{transform:translate(0)} }

    /* ===== OVERLAY IMAGEM ===== */
    #overlayContainer {
      position:fixed; inset:0;
      background:rgba(0,0,0,0.8);
      display:none; justify-content:center; align-items:center;
      z-index:1000;
    }
    #overlayImage { max-width:80%; max-height:80%; transition:transform .3s; }
    #btnSair {
      position:absolute; top:20px; right:20px;
      background:rgba(0,0,0,0.7);
      border:2px solid #00FFE7; color:#00FFE7;
      font-family:'Press Start 2P',cursive; font-size:12px; padding:10px;
      cursor:pointer;
    }

    /* ===== LOADING & SOM ===== */
    #loading-screen {
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background:#000; z-index:9999;
    }
    #loading-text {
      font-family:'Press Start 2P',cursive; color:#00FFE7; font-size:20px;
    }
    #soundPrompt {
      position:fixed; inset:0;
      display:none; flex-direction:column;
      align-items:center; justify-content:center;
      background:#000; z-index:10000;
    }
    #soundPrompt p {
      font-family:'Press Start 2P',cursive; color:#00FFE7;
      font-size:24px; margin-bottom:30px; text-align:center;
    }
    .soundBtn {
      background:none; border:2px solid #00FFE7; color:#00FFE7;
      font-family:'Press Start 2P',cursive; font-size:14px; padding:12px 22px;
      cursor:pointer; transition:background .25s;
    }
    .soundBtn:hover { background:rgba(0,255,231,0.2); }

    /* ===== CLIQUES ESPECIAIS ===== */
    #cliquemundo, #cliqueinversao, #cliquerefracao,
    #cliquemorse, #cliquecapacitor, #cliquesanguedomundo, #cliqueg {
      position:absolute; inset:0; cursor:pointer;
      width:100%; height:100%; z-index:10;
      animation:fadeInOut .7s infinite;
    }
    @keyframes fadeInOut { 0%{opacity:1}50%{opacity:0}100%{opacity:1} }
  </style>
</head>

<body>
  <!-- áudio -->
  <audio id="bgm" src="animus.mp3" preload="auto" loop></audio>
  <audio id="memories" src="memories.mp3" preload="auto" loop></audio>

  <!-- prompt som -->
  <div id="soundPrompt">
    <p>SOM?</p>
    <div class="btnWrap">
      <button class="soundBtn" id="btnYes">SIM</button>
      <button class="soundBtn" id="btnNo">NÃO</button>
    </div>
  </div>

  <!-- palco principal -->
  <div id="app">
    <!-- TABLET + GLOBO -->
    <section class="tablet">
      <div id="globe-area">
        <canvas id="globeCanvas"></canvas>
        <video id="intro-video" src="omom.mp4" muted playsinline></video>
      </div>
      <!-- PAINEL + MENU -->
      <div id="ui-layer">
        <img id="painel" src="painel.png" alt="Painel">
        <button id="btnMenu">MENU</button>
      </div>
      <!-- MENU SÍMBOLOS abaixo do painel -->
      <div id="menu-overlay">
        <div class="symbols-wrapper">
          <div class="symbols-container">
            <div class="symbol brither" data-world="veleywei">
              <img src="assets/veleyweimenu.png" alt="Velei'wey">
            </div>
            <div class="symbol locked" data-world="botychera">
              <img src="mundos/botychera/botycheramenu.png" alt="Botychera">
            </div>
            <div class="symbol locked" data-world="himpis">
              <img src="mundos/himpis/himpismenu.png" alt="Himpis">
            </div>
            <div class="symbol brither" data-world="batedores">
              <img src="mundos/ttok/ttokmenu.png" alt="Batedores">
            </div>
            <div class="symbol locked" data-world="denbou">
              <img src="mundos/denbou/denboumenu.png" alt="DenBou">
            </div>
            <div class="symbol locked" data-world="araporu">
              <img src="mundos/araporu/araporumenu.png" alt="Araporu">
            </div>
            <div class="symbol locked" data-world="artesaos">
              <img src="mundos/os artesaos/artesaosmenu.png" alt="Artesãos">
            </div>
            <div class="symbol locked" data-world="sapador">
              <img src="mundos/sapador/sapador.png" alt="Sapador">
            </div>
            <div class="symbol locked" data-world="dosirelala">
              <img src="mundos/dosirelala/dosirelalamenu.png" alt="Dosirelala">
            </div>
            <div class="symbol locked" data-world="calindreno">
              <img src="mundos/calindreno/calindreno.png" alt="Calindreno">
            </div>
            <div class="symbol locked" data-world="mundoPulsante">
              <img src="mundos/mundo pulsante/jocelyn.png" alt="Mundo Pulsante">
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FLIPBOOK -->
    <section id="flipbook-area">
      <div id="flipbookContainer"></div>
    </section>
  </div>

  <!-- overlay imagem -->
  <div id="overlayContainer">
    <button id="btnSair">FECHAR</button>
    <img id="overlayImage" src="" alt="Zoom">
  </div>

  <!-- loading -->
  <div id="loading-screen"><div id="loading-text">CARREGANDO…</div></div>

  <!-- libs e scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="turn.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>

  <script>
    /* ==== FADE, BOOT, MENU, FLIPBOOK, DESTRÓI GLOBO e OVERLAY ==== */
    // ... seu JS aqui ...
  </script>
</body>
</html>
